Started by user [8mha:////4HKCQmlC9aiynX1afumo/Imoc3WWMnDl4abFZ4eHDAOUAAAAlx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzWEgZu/dLi1CL9xJTczDwAj6GcLcAAAAA=[0madmin
Running as SYSTEM
Building in workspace /var/lib/jenkins/workspace/BHT-EMR-API-Scanning
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/BHT-EMR-API-Scanning/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/HISMalawi/BHT-EMR-API.git # timeout=10
Fetching upstream changes from https://github.com/HISMalawi/BHT-EMR-API.git
 > git --version # timeout=10
 > git --version # 'git version 2.25.1'
 > git fetch --tags --force --progress -- https://github.com/HISMalawi/BHT-EMR-API.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
Checking out Revision 7d280eb319c9bca296cfc2ef2784dce85d4a8d11 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 7d280eb319c9bca296cfc2ef2784dce85d4a8d11 # timeout=10
Commit message: "Added documentation on ART regimens retrieval."
 > git rev-list --no-walk 7d280eb319c9bca296cfc2ef2784dce85d4a8d11 # timeout=10
[BHT-EMR-API-Scanning] $ /bin/sh -xe /tmp/jenkins6853857055843262619.sh
+ cd /var/lib/jenkins
+ cd /var/www/BHT-EMR-API/
+ git config --global --add safe.directory /var/www/BHT-EMR-API
+ git fetch --tags -f
+ git rev-list --tags --max-count=1
+ git describe --tags 9a15bbf688d5e2a24d8ec18febea126a5451ff48
+ latestTag=v4.15.23
+ git checkout v4.15.23 -f
HEAD is now at 9a15bbf6 Merge pull request #184 from HISMalawi/add/overview_report
+ ./update-api.sh
Unknown ruby interpreter version (do not know how to handle): >=2.5.3,<3.0.0.
Using /var/lib/jenkins/.rvm/gems/ruby-2.5.3
Resolving dependencies...
The dependency tzinfo-data (>= 0) will be unused by any of the platforms Bundler is installing for. Bundler is installing for ruby but the dependency is only for x86-mingw32, x86-mswin32, x64-mingw32, java. To add those platforms to the bundle, run `bundle lock --add-platform x86-mingw32 x86-mswin32 x64-mingw32 java`.
Using rake 13.0.6
Using concurrent-ruby 1.1.10
Using i18n 1.12.0
Using minitest 5.15.0
Using thread_safe 0.3.6
Using tzinfo 1.2.10
Using activesupport 5.2.8.1
Using builder 3.2.4
Using erubi 1.11.0
Using racc 1.6.0
Using nokogiri 1.12.5 (x86_64-linux)
Using rails-dom-testing 2.0.3
Using crass 1.0.6
Using loofah 2.18.0
Using rails-html-sanitizer 1.4.3
Using actionview 5.2.8.1
Using rack 2.2.4
Using rack-test 2.0.2
Using actionpack 5.2.8.1
Using nio4r 2.5.8
Using websocket-extensions 0.1.5
Using websocket-driver 0.7.5
Using actioncable 5.2.8.1
Using globalid 1.0.0
Using activejob 5.2.8.1
Using mini_mime 1.1.2
Using mail 2.7.1
Using actionmailer 5.2.8.1
Using activemodel 5.2.8.1
Using arel 9.0.0
Using activerecord 5.2.8.1
Using marcel 1.0.2
Using activestorage 5.2.8.1
Using public_suffix 4.0.7
Using addressable 2.8.0
Using bindex 0.8.1
Using msgpack 1.5.4
Using bootsnap 1.13.0
Using bundler 1.17.3
Using byebug 11.1.3
Using chronic 0.10.2
Using composite_primary_keys 11.3.1
Using httpclient 2.8.3
Using mime-types-data 3.2022.0105
Using mime-types 3.4.1
Using multi_json 1.15.0
Using couchrest 2.0.1
Using diff-lcs 1.5.0
Using unf_ext 0.0.8.2
Using unf 0.1.4
Using domain_name 0.5.20190701
Using method_source 1.0.0
Using thor 1.2.1
Using railties 5.2.8.1
Using sprockets 4.1.1
Using sprockets-rails 3.4.2
Using rails 5.2.8.1
Using emr_ohsp_interface 1.1.0
Using event_emitter 0.2.6
Using factory_bot 6.2.1
Using factory_bot_rails 6.2.0
Using ffi 1.15.5
Using parallel 1.20.1
Using multi_xml 0.6.0
Using httparty 0.20.0
Using json 2.6.2
Using websocket 1.2.9
Using websocket-client-simple 0.3.1
Using socket.io-client-simple 1.2.1
Using his_emr_api_lab 1.1.24
Using his_emr_api_radiology 0.0.8
Using http-accept 1.7.0
Using http-cookie 1.0.5
Using json-schema 2.8.1
Using rb-fsevent 0.11.1
Using rb-inotify 0.10.1
Using ruby_dep 1.5.0
Using listen 3.1.5
Using mysql2 0.5.4
Using netrc 0.11.0
Using passenger 6.0.14
Using power_assert 2.0.1
Using puma 4.3.12
Using rack-cors 1.1.1
Using rest-client 2.1.0
Using rubyzip 2.3.2
Using roo 2.8.3
Using rspec-support 3.11.0
Using rspec-core 3.11.0
Using rspec-expectations 3.11.0
Using rspec-mocks 3.11.1
Using rspec 3.11.0
Using rspec-rails 5.1.2
Using rswag-api 2.5.1
Using rswag-specs 2.5.1
Using rswag-ui 2.5.1
Using spring 2.1.1
Using spring-watcher-listen 2.0.1
Using test-unit 3.5.3
Using web-console 3.7.0
Using whenever 1.0.0
Updating files in vendor/cache
Removing outdated .gem files from vendor/cache
  * rspec-support-3.10.3.gem
  * passenger-6.0.12.gem
  * erubi-1.10.0.gem
  * rails-5.2.6.gem
  * activemodel-5.2.6.gem
  * rspec-core-3.10.1.gem
  * actionview-5.2.6.gem
  * puma-4.3.10.gem
  * rspec-rails-5.0.2.gem
  * minitest-5.14.4.gem
  * ffi-1.15.4.gem
  * tzinfo-1.2.9.gem
  * rack-2.2.3.gem
  * msgpack-1.4.2.gem
  * actioncable-5.2.6.gem
  * actionmailer-5.2.6.gem
  * rails-html-sanitizer-1.4.2.gem
  * bootsnap-1.9.1.gem
  * i18n-1.8.11.gem
  * concurrent-ruby-1.1.9.gem
  * factory_bot-6.2.0.gem
  * thor-1.1.0.gem
  * rack-test-1.1.0.gem
  * activesupport-5.2.6.gem
  * rb-fsevent-0.11.0.gem
  * unf_ext-0.0.8.gem
  * actionpack-5.2.6.gem
  * loofah-2.12.0.gem
  * his_emr_api_radiology-0.0.7.gem
  * rspec-mocks-3.10.2.gem
  * rspec-3.10.0.gem
  * globalid-0.5.2.gem
  * sprockets-rails-3.4.0.gem
  * sprockets-4.0.2.gem
  * rswag-ui-2.4.0.gem
  * test-unit-3.5.1.gem
  * diff-lcs-1.4.4.gem
  * rswag-api-2.4.0.gem
  * his_emr_api_lab-1.1.23.gem
  * activerecord-5.2.6.gem
  * railties-5.2.6.gem
  * mysql2-0.5.3.gem
  * activestorage-5.2.6.gem
  * rspec-expectations-3.10.1.gem
  * mime-types-data-3.2021.1115.gem
  * http-cookie-1.0.4.gem
  * activejob-5.2.6.gem
Bundle complete! 26 Gemfile dependencies, 101 gems now installed.
Use `bundle info [gemname]` to see where a bundled gem is installed.
+ export RAILS_ENV=development
+ RAILS_ENV=development
+ rails db:environment:set RAILS_ENV=development
++ ruby -ryaml -e 'puts YAML::load_file('\''config/database.yml'\'')['\''development'\'']['\''username'\'']'
+ USERNAME=root
++ ruby -ryaml -e 'puts YAML::load_file('\''config/database.yml'\'')['\''development'\'']['\''password'\'']'
+ PASSWORD=root
++ ruby -ryaml -e 'puts YAML::load_file('\''config/database.yml'\'')['\''development'\'']['\''database'\'']'
+ DATABASE=openmrs
++ ruby -ryaml -e 'puts YAML::load_file('\''config/database.yml'\'')['\''development'\'']['\''host'\'']'
+ HOST=localhost
++ ruby -ryaml -e 'puts YAML::load_file('\''config/database.yml'\'')['\''development'\'']['\''port'\'']'
+ PORT=
+ rails db:migrate
+ mysql --host=localhost --port= --user=root --password=root openmrs
Warning: Using a password on the command line interface can be insecure.
+ mysql --host=localhost --port= --user=root --password=root openmrs
Warning: Using a password on the command line interface can be insecure.
+ mysql --host=localhost --port= --user=root --password=root openmrs
Warning: Using a password on the command line interface can be insecure.
Warning: Using a password on the command line interface can be insecure.
Warning: Using a password on the command line interface can be insecure.
Warning: Using a password on the command line interface can be insecure.
Warning: Using a password on the command line interface can be insecure.
Finished: SUCCESS
